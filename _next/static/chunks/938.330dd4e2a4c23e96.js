(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{8938:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(764),i=r(8486),l=r(8732);r(1868);var o=r(7679),s=r(2991);function a(e){let{onTerminalReady:t}=e,r=(0,o.useRef)(null),a=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,s.gh)();return(0,o.useEffect)(()=>{(()=>{if(!r.current||a.current)return;let e=new i.Terminal({fontFamily:"Menlo, Monaco, 'Courier New', monospace",theme:{background:u.palette.black,foreground:u.palette.white},convertEol:!0,cursorBlink:!0,allowTransparency:!0,scrollback:1e3}),n=new l.FitAddon;e.loadAddon(n),c.current=n,a.current=e,e.open(r.current),setTimeout(()=>{try{var r;null===(r=c.current)||void 0===r||r.fit(),t(e)}catch(e){console.error("Fit error:",e)}},100);let o=()=>{try{var e;null===(e=c.current)||void 0===e||e.fit()}catch(e){console.error("Resize fit error:",e)}};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),e.dispose()}})()},[t,u.palette.black,u.palette.white]),(0,n.jsx)("div",{ref:r,style:{width:"100%",height:"100%",backgroundColor:u.palette.black,padding:"4px"}})}},8732:function(e){var t;self,e.exports=(Object.defineProperty(t={},"__esModule",{value:!0}),t.FitAddon=void 0,t.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core,t=e._renderService.dimensions;if(0===t.css.cell.width||0===t.css.cell.height)return;let r=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(n.getPropertyValue("height")),l=Math.max(0,parseInt(n.getPropertyValue("width"))),o=window.getComputedStyle(this._terminal.element),s=i-(parseInt(o.getPropertyValue("padding-top"))+parseInt(o.getPropertyValue("padding-bottom"))),a=l-(parseInt(o.getPropertyValue("padding-right"))+parseInt(o.getPropertyValue("padding-left")))-r;return{cols:Math.max(2,Math.floor(a/t.css.cell.width)),rows:Math.max(1,Math.floor(s/t.css.cell.height))}}},t)}}]);
//# sourceMappingURL=938.330dd4e2a4c23e96.js.map