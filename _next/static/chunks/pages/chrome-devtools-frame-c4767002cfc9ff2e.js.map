{"version":3,"file":"static/chunks/pages/chrome-devtools-frame-c4767002cfc9ff2e.js","mappings":"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","sources":["webpack://_N_E/?9ccf","webpack://_N_E/./src/pages/chrome-devtools-frame.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/chrome-devtools-frame\",\n      function () {\n        return require(\"private-next-pages/chrome-devtools-frame.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/chrome-devtools-frame\"])\n      });\n    }\n  ","import { Stack } from \"@fluentui/react\";\nimport { makeStyles } from \"@griffel/react\";\nimport { useEffect } from \"react\";\n\nconst useClasses = makeStyles({\n    body: {\n        \"@media (prefers-color-scheme: dark)\": {\n            backgroundColor: \"rgb(41, 42, 45)\",\n            color: \"#ddd\",\n        },\n    },\n});\n\nfunction ChromeDevToolsFrame() {\n    const classes = useClasses();\n\n    useEffect(() => {\n        var WebSocketOriginal = globalThis.WebSocket;\n        globalThis.WebSocket = class WebSocket extends EventTarget {\n            public static readonly CONNECTING: 0 = 0;\n            public static readonly OPEN: 1 = 1;\n            public static readonly CLOSING: 2 = 2;\n            public static readonly CLOSED: 3 = 3;\n\n            public readonly CONNECTING: 0 = 0;\n            public readonly OPEN: 1 = 1;\n            public readonly CLOSING: 2 = 2;\n            public readonly CLOSED: 3 = 3;\n\n            public binaryType: BinaryType = \"arraybuffer\";\n            public readonly bufferedAmount: number = 0;\n            public readonly extensions: string = \"\";\n\n            public readonly protocol: string = \"\";\n            public readonly readyState: number = 1;\n            public readonly url: string;\n\n            private _port: MessagePort;\n\n            public onclose: ((this: WebSocket, ev: CloseEvent) => any) | null =\n                null;\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/error_event) */\n            public onerror: ((this: WebSocket, ev: Event) => any) | null = null;\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/message_event) */\n            public onmessage:\n                | ((this: WebSocket, ev: MessageEvent) => any)\n                | null = null;\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/open_event) */\n            public onopen: ((this: WebSocket, ev: Event) => any) | null = null;\n\n            constructor(url: string) {\n                super();\n\n                console.log(\"WebSocket constructor\", url);\n                this.url = url;\n\n                var channel = new MessageChannel();\n                this._port = channel.port1;\n\n                if (url.includes(\"/_next/\")) {\n                    this._port.close();\n                    // @ts-ignore\n                    return new WebSocketOriginal(url);\n                }\n\n                this._port.onmessage = (e) => {\n                    switch (e.data.type) {\n                        case \"open\":\n                            this.onopen?.(new Event(\"open\"));\n                            break;\n                        case \"message\":\n                            this.onmessage?.(\n                                new MessageEvent(\"message\", {\n                                    data: e.data.message,\n                                })\n                            );\n                            break;\n                        case \"close\":\n                            this.onclose?.(new CloseEvent(\"close\"));\n                            this._port.close();\n                            break;\n                    }\n                };\n                globalThis.postMessage({ type: \"AdbWebSocket\", url }, \"*\", [\n                    channel.port2,\n                ]);\n            }\n\n            send(data: ArrayBuffer) {\n                this._port.postMessage({ type: \"message\", message: data });\n            }\n\n            public close() {\n                this._port.postMessage({ type: \"close\" });\n                this._port.close();\n            }\n        } as typeof WebSocket;\n        console.log(\"WebSocket hooked\");\n\n        const script = document.createElement(\"script\");\n        script.type = \"module\";\n        script.src = new URLSearchParams(location.search).get(\n            \"script\"\n        ) as string;\n        document.body.appendChild(script);\n    }, []);\n\n    // DevTools will set `document.title` to debugged page's title.\n    return (\n        <Stack\n            className={classes.body}\n            verticalFill\n            verticalAlign=\"center\"\n            horizontalAlign=\"center\"\n        >\n            <div>Loading DevTools...</div>\n            <div>(requires network connection)</div>\n        </Stack>\n    );\n}\n\nChromeDevToolsFrame.noLayout = true;\n\nexport default ChromeDevToolsFrame;\n"],"names":["window","__NEXT_P","push","__webpack_require__","useClasses","makeStyles","body","backgroundColor","color","ChromeDevToolsFrame","classes","useEffect","WebSocketOriginal","globalThis","WebSocket","_WebSocket","EventTarget","send","data","_port","postMessage","type","message","close","constructor","url","CONNECTING","OPEN","CLOSING","CLOSED","binaryType","bufferedAmount","extensions","protocol","readyState","onclose","onerror","onmessage","onopen","console","log","channel","MessageChannel","port1","includes","_this_onopen","_this_onmessage","_this_onclose","e","call","Event","MessageEvent","CloseEvent","port2","script","document","createElement","src","URLSearchParams","location","search","get","appendChild","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","Stack","className","verticalFill","verticalAlign","horizontalAlign","jsx","div","noLayout","__webpack_exports__"],"sourceRoot":""}